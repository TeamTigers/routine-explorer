<%@page import="java.sql.ResultSet"%><%@page import="java.sql.Statement"%><%@page import="java.sql.SQLException"%><%@page import="java.sql.DriverManager"%><%@page import="java.sql.Connection"%><%@page contentType="text/html" pageEncoding="UTF-8"%><!DOCTYPE html><html> <head> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>Routine Explorer</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="msapplication-tap-highlight" content="no"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css"> <link rel="stylesheet" href="./assets/css/navbar.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> </head> <body class="white"> <nav> <div class="nav-wrapper gradient-45deg-indigo-blue"> <ul class="left hide-on-med-and-down"> <span class="brand-logo center">Select semester and section</span> </ul> <ul class="right hide-on-med-and-down"> <li> <a href="index.jsp" class="tooltipped" data-tooltip="home"> <i class="material-icons">home</i></a> </li><li> <a href="chooseRoutineTeacher.jsp" class="tooltipped" data-tooltip="teacher's routine"> <i class="material-icons">assignment</i></a> </li><li> <a href="javascript:void(0);" class="tooltipped waves-effect waves-block waves-light toggle-fullscreen" data-tooltip="full screen"> <i class="material-icons">settings_overscan</i> </a> </li></ul> </div></nav> <%! String latestCourseOffer=""; %> <% Connection connection=null; String path=this.getClass().getClassLoader().getResource("").getPath(); try{Class.forName("org.sqlite.JDBC"); String ConnectionURL="jdbc:sqlite:" + path + "com/FilesPack/" + "RoutineExample.sqlite"; connection=DriverManager.getConnection(ConnectionURL);}catch (ClassNotFoundException | SQLException e){System.out.println(e.toString());}Statement st=null; ResultSet rs=null; st=connection.createStatement(); rs=st.executeQuery("select * from ExcelCourseOffer"); try{while (rs.next()){latestCourseOffer=rs.getString("FileNameCourse");}}catch (Exception e){out.println(e.toString()); out.println("Course Offer May Not Be Published");}%> <form style="background-color: white;" name="myForm" action="StudentsRoutine.jsp" method="post" autocomplete="off"> <div class="row"><br></div><div class="row"> <div class="input-field col s12" > <select id="semester_id" name="SelectedSemester"> <option value="" class="grey-text" disabled selected>-- select --</option> <% Statement st1=connection.createStatement(); ResultSet rs1=st1.executeQuery("SELECT DISTINCT Semester FROM " + latestCourseOffer); try{while (rs1.next()){%> <option value="<%=rs1.getString("Semester")%>"> <%=rs1.getString("Semester")%></option> <%}}catch (Exception e){out.println(e.toString());}%> </select> <label class="teal-text" style="font-size: 15px; font-weight: bolder; margin-left: 0%;">Select your semester</label> </div></div><br><br><br><div class="row" id="thisDiv"> <div class="input-field col s12" id="section_id" style="visibility: hidden ;"> <select class="selectBox" name="SelectedSection" id="SelectedSection" > <option>-- select --</option> </select> <label class="teal-text" style="font-size: 15px; font-weight: bolder; margin-left: 0%; ">Select your section</label> </div></div><br><br><center> <button class="btn gradient-45deg-indigo-blue border-round z-depth-1" type="submit" name="submit" id="submit" style="visibility: hidden ;">Proceed next</button> </center> </form> </body></html><script>$(document).ready( function (){$("#semester_id").on("change", function (){var semester_id=$("#semester_id").val();//id of country select box of index.jsp page; $.ajax({url: "Section.jsp", //your jsp page name data:{semester_id: semester_id}, //sending request to state.jsp page. method: "POST", //HTTP method. success: function (data){$("#section_id").html(data);//output or response will display in state select box. $("#section_id").val(data); document.getElementById('section_id').style.visibility='visible'; setTimeout(function (){document.getElementById('submit').style.visibility="visible";}, 1000);}});});});</script><script>$(document).ready( function (){$("#section_id").on("change", function (){var semester_id=$("#semester_id").val();//id of country select box of index.jsp page; var section_id=$("#section_id option:selected").text(); $.ajax({url: "StudentRoutine.jsp", //your jsp page name data:{semester_id: semester_id, section_id: section_id}, //sending request to state.jsp page. method: "POST", //HTTP method. success: function (data){$("#section_id").html(data);//output or response will display in state select box.}});});});</script><script type="text/javascript" src="https://himel007.github.io/projectCSS/js/materialize.min.js"></script><script type="text/javascript" src="https://himel007.github.io/projectCSS/js/perfect-scrollbar.min.js"></script><script type="text/javascript" src="https://himel007.github.io/projectCSS/js/plugins.js"></script>